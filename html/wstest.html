<!DOCTYPE html>
<html>
    <body>

        <!--
        
        -->



        <p>message div</p>

        <div id="messageDiv" style="overflow-y:scroll; height:400px;border-style:solid;border-width:1px;"></div>

<form>
  MESSAGE:<br>
  <input type="text" id="messageField" name="message"><br>
  <button type="button" id="sendButton">send!</button>
</form>

        <script src="https://code.jquery.com/jquery-1.10.2.js"></script>

        <script>

var sendBtn = document.getElementById('sendButton');

  //add event listener
 sendBtn.addEventListener('click', function(event) {
    ws.send(document.getElementById('messageField').value);
  });

            function WebSocketTest()
            {
                if ("WebSocket" in window)
                {
//               alert("WebSocket is supported by your Browser!");

                    // Let us open a web socket
                    ws = new WebSocket("ws://192.168.0.3:8887");

                    ws.onopen = function ()
                    {
                        document.getElementById("messageDiv").innerHTML += "websocket readystate=" + ws.readyState + " <br>";
                        // Web Socket is connected, send data using send()
                        document.getElementById("messageDiv").innerHTML += "connected.<br>";
                    };

                    ws.onmessage = function (evt)
                    {
                        var received_msg = evt.data;
                        document.getElementById("messageDiv").innerHTML += "received=" + received_msg + " <br>";
                    };

                    ws.onerror = function ()
                    {

                        alert("websocket error!..");
                    };

                    ws.onclose = function (evt)
                    {
document.getElementById("messageDiv").innerHTML += "closed code="+evt.close+" reason="+evt.reason+" <br>";
                        
                        alert("Connection is closed...");
                    };
                }

                else
                {
                    // The browser doesn't support WebSocket
                    alert("WebSocket NOT supported by your Browser!");
                }
            }

            $(document).ready(function () {

                document.getElementById("messageDiv").innerHTML = "document ready <br>";
                WebSocketTest("ws://localhost:8885");
            }
            );


        </script>

    </body>
</html>
